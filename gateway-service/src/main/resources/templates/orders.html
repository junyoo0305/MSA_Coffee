<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì»¤í”¼ ì „ë¬¸ì  - ì£¼ë¬¸í•˜ê¸°</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: sans-serif; padding: 20px; }
        h1, h2 { border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .container { display: flex; gap: 40px; }
        #menu-section { flex: 2; }
        #cart-section { flex: 1; background-color: #f9f9f9; padding: 20px; border-radius: 8px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
        th { background-color: #f9f9f9; }
        .quantity-input { width: 50px; }
        button { padding: 8px 12px; cursor: pointer; background-color: #007bff; color: white; border: none; border-radius: 4px; }
        button:hover { background-color: #0056b3; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }
        #place-order-btn { width: 100%; padding: 15px; font-size: 1.2em; background-color: #28a745; }
        #place-order-btn:hover { background-color: #218838; }
        #cart-list li { margin-bottom: 10px; font-size: 1.1em; }
        #order-status { margin-top: 20px; font-weight: bold; }

        /* ========================================
        ==== ì˜µì…˜ ëª¨ë‹¬ CSS (ì—¬ê¸°ë¶€í„° ì¶”ê°€ë¨) ====
        ========================================
        */
        .modal {
            display: none; /* í‰ì†Œì—ëŠ” ìˆ¨ê¹€ */
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 8px;
        }

        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-btn:hover { color: #000; }

        #modal-options-container h3 {
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
            margin-top: 20px;
        }
        #modal-options-container div {
            padding-left: 10px;
        }
        #modal-options-container label {
            margin-left: 10px;
            cursor: pointer;
        }
        #add-cart-confirm-btn {
            width: 100%;
            margin-top: 20px;
            padding: 10px;
            background-color: #007bff;
        }
        /* ==== ì˜µì…˜ ëª¨ë‹¬ CSS (ì—¬ê¸°ê¹Œì§€) ==== */

    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="/">MSA í”„ë¡œì íŠ¸</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/menus">ë©”ë‰´ ê´€ë¦¬</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/orders">ì£¼ë¬¸</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/list">ê²Œì‹œíŒ</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/stocks">ì¬ê³ </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/dashboard">ì£¼ë¬¸ í˜„í™©</a>
                </li>
            </ul>
            <ul class="navbar-nav" id="authNav">
                <li class="nav-item" id="loginNav">
                    <a class="nav-link" href="/login">ë¡œê·¸ì¸</a>
                </li>
                <li class="nav-item d-none" id="userNav">
                    <span class="nav-link" id="username"></span>
                </li>
                <li class="nav-item d-none" id="logoutNav">
                    <a class="nav-link" href="#" id="logoutBtn">ë¡œê·¸ì•„ì›ƒ</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<h1>ğŸ›’ ì»¤í”¼ ì£¼ë¬¸í•˜ê¸°</h1>
<div class="container">
    <div id="menu-section">
        <h2>ë©”ë‰´íŒ</h2>
        <table id="menu-table">
            <thead>
            <tr>
                <th>ìƒí’ˆëª…</th>
                <th>ì„¤ëª…</th>
                <th>ê°€ê²©</th>
                <th>ë‚¨ì€ ì¬ê³ </th>
                <th>ìˆ˜ëŸ‰</th>
                <th>ë‹´ê¸°</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>

    <div id="cart-section">
        <h2>ì¥ë°”êµ¬ë‹ˆ</h2>
        <ul id="cart-list">
        </ul>
        <hr>
        <h3>ì´ ì£¼ë¬¸ ê¸ˆì•¡: <span id="total-price">0</span>ì›</h3>
        <p>
            <label for="customer-name">ì£¼ë¬¸ìëª…:</label>
            <input type="text" id="customer-name" style="width: 90%; padding: 8px;" value="í…ŒìŠ¤íŠ¸ ê³ ê°">
        </p>
        <button id="place-order-btn">ì£¼ë¬¸í•˜ê¸°</button>
        <div id="order-status"></div>
    </div>
</div>

<div id="option-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2 id="modal-menu-name">ë©”ë‰´ ì˜µì…˜ ì„ íƒ</h2>
        <div id="modal-options-container">
        </div>
        <button id="add-cart-confirm-btn">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
    </div>
</div>
<script src="/js/orders.js"></script>
</body>
</html>